(this["webpackJsonpreddit-search"]=this["webpackJsonpreddit-search"]||[]).push([[0],{100:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),l=a.n(c),s=a(9),m=a.n(s),i=(a(79),a(11)),o=(a(80),a(38)),u=a.n(o),A=a(59),d=a.n(A),p=(a(100),a(142)),f=a(156),h=a(146),E=a(147),b=a(148),g=a(157),v=a(152),S=a(153),N=a(151),j=a(159),O=a(155),y=a(160);!function(e){e.Score="score",e.NumComments="num_comments",e.Date="created_utc"}(n||(n={})),function(e){e.DESC="desc",e.ASC="asc"}(r||(r={}));var T=function(e){var t=e.handleChange,a=e.handleSubmit,s=e.searchOption,m=e.author,o=e.title,u=e.subreddit,A=e.searchTerm,d=e.size,T=e.after,k=e.before,C=e.sort,I=e.sortType,w=e.isLoading,L=Object(c.useState)(!1),z=Object(i.a)(L,2),x=z[0],F=z[1];return l.a.createElement("div",null,l.a.createElement(p.a,{container:!0,direction:"column",alignItems:"center",spacing:3},l.a.createElement(p.a,Object.assign({item:!0},{xs:10,sm:10,md:6,lg:6,xl:6}),l.a.createElement("form",{onSubmit:a,className:"Form"},l.a.createElement("div",{className:"TabBar"},l.a.createElement(f.a,{value:s,onChange:t,TabIndicatorProps:{style:{background:"#FF5700"}},centered:!0},l.a.createElement(h.a,{label:"Posts"}),l.a.createElement(h.a,{label:"Comments"}))),l.a.createElement(E.a,null,l.a.createElement(b.a,null,l.a.createElement("div",{className:"Inputs"},l.a.createElement(p.a,{container:!0,spacing:3,justify:"center"},l.a.createElement(p.a,{item:!0,sm:4,xs:12},l.a.createElement(g.a,{label:"Author",fullWidth:!0,className:"InputAuthor",type:"text",name:"author",onChange:t,value:m})),l.a.createElement(p.a,{item:!0,sm:4,xs:12},l.a.createElement(g.a,{label:"Subreddit",fullWidth:!0,className:"InputSubreddit",type:"text",name:"subreddit",onChange:t,value:u})),l.a.createElement(p.a,{item:!0,sm:4,xs:12},l.a.createElement(g.a,{label:"Title",fullWidth:!0,className:"InputTitle",type:"text",name:"title",onChange:t,value:o})),l.a.createElement(p.a,{item:!0,sm:8,xs:12},l.a.createElement(g.a,{label:"Search Term",fullWidth:!0,className:"InputSearchTerm",type:"text",name:"searchTerm",onChange:t,value:A})),l.a.createElement(p.a,{item:!0,sm:4,xs:12},l.a.createElement(g.a,{label:"Return Size",fullWidth:!0,className:"InputReturnSize",type:"number",name:"size",onChange:t,value:d})),l.a.createElement(p.a,{item:!0,container:!0,xs:12,justify:"center"},l.a.createElement("div",{style:{margin:25}},l.a.createElement(v.a,{onClick:function(){F(!x)}},x?"Hide Filters":"Show Filters"))),l.a.createElement(S.a,{in:x},l.a.createElement(p.a,{container:!0,justify:"center",alignItems:"center",spacing:5},l.a.createElement(p.a,{item:!0,container:!0,direction:"column",sm:6,xs:12,spacing:3,alignItems:"center"},l.a.createElement(p.a,{item:!0},l.a.createElement(N.a,{style:{minWidth:200}},l.a.createElement(j.a,null,"Sort Type"),l.a.createElement(O.a,{autoWidth:!0,label:"Sort Type",name:"sortType",onChange:t,value:I},l.a.createElement(y.a,{value:n.Score},"Score"),l.a.createElement(y.a,{value:n.NumComments},"Num. of Comments"),l.a.createElement(y.a,{value:n.Date},"Created Date")))),l.a.createElement(p.a,{item:!0},l.a.createElement(N.a,{style:{minWidth:200}},l.a.createElement(j.a,null,"Sort Order"),l.a.createElement(O.a,{label:"Sort Order",name:"sort",onChange:t,value:C},l.a.createElement(y.a,{value:r.DESC},"Descending"),l.a.createElement(y.a,{value:r.ASC},"Ascending"))))),l.a.createElement(p.a,{item:!0,container:!0,direction:"column",sm:6,xs:12,spacing:3,alignItems:"center"},l.a.createElement(p.a,{item:!0},l.a.createElement(g.a,{label:"After",variant:"outlined",InputLabelProps:{shrink:!0},type:"date",name:"after",onChange:t,value:T})),l.a.createElement(p.a,{item:!0},l.a.createElement(g.a,{label:"Before",variant:"outlined",InputLabelProps:{shrink:!0},type:"date",name:"before",onChange:t,value:k}))))),l.a.createElement(p.a,{item:!0,container:!0},l.a.createElement("button",{type:"submit",className:"SearchButton"},w?"Searching ...":"Search"))))))))))},k=a(42),C=a.n(k),I=(a(107),a(65)),w=a.n(I),L=function(e){var t=e.data,a=t.preview,n=t.title.replace(/&amp;/g,"&");a&&(a=a.images[0].source.url.replace(/&amp;/g,"&"));var r=new Date(1e3*t.created_utc).toString();r=C()(r).format("LL");return l.a.createElement(p.a,Object.assign({item:!0},{xs:11,sm:11,md:7,lg:7,xl:7}),l.a.createElement(E.a,null,l.a.createElement(b.a,null,l.a.createElement("div",{className:"Post"},l.a.createElement("div",{className:"PreviewImage"},a?l.a.createElement("img",{src:a,alt:"preview",width:"150",height:"150"}):l.a.createElement("img",{src:w.a,alt:"preview",width:"150",height:"150"})),l.a.createElement("div",{className:"PostTitle"},l.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},n)),l.a.createElement("p",{className:"Identifiers"},l.a.createElement("span",{className:"Author"},"by"," ",l.a.createElement("a",{href:"https://www.reddit.com/u/".concat(t.author),target:"_blank",rel:"noopener noreferrer"},t.author)),l.a.createElement("span",null," "),l.a.createElement("span",{className:"Subreddit"},"at"," ",l.a.createElement("a",{href:"https://www.reddit.com/r/".concat(t.subreddit),target:"_blank",rel:"noopener noreferrer"},"r/",t.subreddit)),l.a.createElement("span",null," "),l.a.createElement("span",{className:"Date"},"on ",r)),l.a.createElement("p",{className:"NumComments Stats"},"Comments: ",t.num_comments),l.a.createElement("p",{className:"Score Stats"},"Score: ",t.score),l.a.createElement("a",{className:"Link",href:t.full_link,target:"_blank",rel:"noopener noreferrer"},"link")))))},z=(a(108),function(e){var t=e.data,a=e.postInfo,n=null===a||void 0===a?void 0:a.postLink,r=new Date(1e3*t.created_utc).toString();r=C()(r).format("LL");var c=null===a||void 0===a?void 0:a.postTitle.replace(/&amp;/g,"&");c&&c.length>50&&(c=c.substring(0,47).concat("..."));return l.a.createElement(p.a,Object.assign({item:!0},{xs:11,sm:11,md:7,lg:7,xl:7}),l.a.createElement(E.a,null,l.a.createElement(b.a,null,l.a.createElement("div",{className:"Comment"},l.a.createElement("div",{className:"TopLine"},l.a.createElement("p",null,l.a.createElement("span",{className:"Author"},"by"," ",l.a.createElement("a",{href:"https://www.reddit.com/u/".concat(t.author),target:"_blank",rel:"noopener noreferrer"},t.author)),l.a.createElement("span",null," "),l.a.createElement("span",{className:"Subreddit"},"at"," ",l.a.createElement("a",{href:"https://www.reddit.com/r/".concat(t.subreddit),target:"_blank",rel:"noopener noreferrer"},"r/",t.subreddit)),l.a.createElement("span",{className:"CommentScore"},"Score: ",t.score))),l.a.createElement("div",{className:"Body"},l.a.createElement("p",null,t.body)),l.a.createElement("p",{className:"BottomLine"},l.a.createElement("span",{className:"Date"},"Posted on ",r),l.a.createElement("span",{className:"SpanLink"},l.a.createElement("a",{href:n+t.id,target:"_blank",rel:"noopener noreferrer",className:"Link"},"link")))))))}),x=a(66),F=a.n(x),P=a(154),W=function(e){var t=e.isLoading,a=e.contentList,c=e.setAfter,s=e.setBefore,m=e.sort,i=e.sortType,o=e.handleSubmit,u=e.apiResponse,A=function(e){var t=new Date(1e3*u[u.length-1].created_utc);m===r.ASC?c(t):s(t),o(e)};return l.a.createElement(p.a,{container:!0,direction:"column",alignItems:"center",spacing:3},l.a.createElement(p.a,{item:!0,container:!0,spacing:3,justify:"center",alignItems:"center"},a.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{item:!0,container:!0,spacing:3,justify:"center",alignItems:"center"},l.a.createElement(P.a,{variant:"h5"},"Number of Results Shown: ",a.length)),l.a.createElement(p.a,{item:!0,container:!0,spacing:3,justify:"center",alignItems:"center"},l.a.createElement(P.a,null,"Sort by created date to automatically fetch more results"))),t?l.a.createElement("img",{src:F.a,alt:"loading"}):a),l.a.createElement(p.a,{item:!0,container:!0},a.length&&i===n.Date?function(e){return l.a.createElement("button",{onClick:A,className:"SearchButton"},e?"Loading ...":"Load More")}(t):l.a.createElement(l.a.Fragment,null)))};var R=function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(0),s=Object(i.a)(r,2),m=s[0],o=s[1],A=Object(c.useState)(""),p=Object(i.a)(A,2),f=p[0],h=p[1],E=Object(c.useState)(""),b=Object(i.a)(E,2),g=b[0],v=b[1],S=Object(c.useState)(""),N=Object(i.a)(S,2),j=N[0],O=N[1],y=Object(c.useState)(""),k=Object(i.a)(y,2),C=k[0],I=k[1],w=Object(c.useState)(50),x=Object(i.a)(w,2),F=x[0],P=x[1],R=Object(c.useState)(""),q=Object(i.a)(R,2),B=q[0],D=q[1],X=Object(c.useState)(""),V=Object(i.a)(X,2),G=V[0],H=V[1],M=Object(c.useState)("desc"),K=Object(i.a)(M,2),U=K[0],J=K[1],_=Object(c.useState)("score"),Q=Object(i.a)(_,2),Y=Q[0],Z=Q[1],$=Object(c.useState)(!1),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ne=Object(c.useState)([]),re=Object(i.a)(ne,2),ce=re[0],le=re[1],se=Object(c.useState)([]),me=Object(i.a)(se,2),ie=me[0],oe=me[1],ue=function(e){ae(!0),e.preventDefault(),function(e){var t=e.searchSubmission?"https://api.pushshift.io/reddit/search/submission":"https://api.pushshift.io/reddit/search/comment";return u.a.get(t,{params:{author:e.author.trim(),title:e.title.trim(),q:e.searchTerm.trim(),subreddit:e.subreddit.trim(),size:e.size,after:e.after,before:e.before,order:e.sort,sort:e.sortType}}).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}({searchSubmission:a,author:f,title:g,searchTerm:C,subreddit:j,size:F,after:B,before:G,sort:U,sortType:Y}).then((function(e){le(e)})).catch((function(e){console.log(e)}))};return Object(c.useEffect)((function(){if(a){var e=ce.map((function(e){return l.a.createElement(L,{key:e.id,data:e})}));oe(e),ae(!1)}else{var t=ce.map((function(e){return e.link_id})).join(",");u.a.get("https://api.pushshift.io/reddit/search/submission/?ids=".concat(t)).then((function(e){var t=e.data.data,a=ce.map((function(e){var a=t.find((function(t){return"t3_"+t.id===e.link_id}));return void 0===a?{postId:"",postLink:"",postTitle:""}:{postId:e.link_id,postLink:a.full_link,postTitle:a.title}})),n=ce.map((function(e){return l.a.createElement(z,{key:e.id,data:e,postInfo:a.find((function(t){return t.postId===e.link_id}))})}));oe(n),ae(!1)})).catch((function(e){console.log(e)}))}window.scrollTo(0,document.body.scrollHeight)}),[ce]),l.a.createElement("div",{className:"App"},l.a.createElement(d.a,{href:"https://github.com/bmai53/reddit",direction:"left"}),l.a.createElement(T,{handleChange:function(e,t){var a=e.target,r=a.name,c=a.value;r||(n(1!==t),o(t)),"author"===r&&h(c),"title"===r&&v(c),"subreddit"===r&&O(c),"searchTerm"===r&&I(c),"size"===r&&P(c),"after"===r&&D(c),"before"===r&&H(c),"sortType"===r&&Z(c),"sort"===r&&J(c)},handleSubmit:ue,searchOption:m,author:f,title:g,subreddit:j,searchTerm:C,size:F,after:B,before:G,sort:U,sortType:Y,isLoading:te}),l.a.createElement(W,{isLoading:te,contentList:ie,setAfter:D,setBefore:H,sort:U,sortType:Y,handleSubmit:ue,apiResponse:ce}))};m.a.render(l.a.createElement(R,null),document.getElementById("root"))},65:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAIAAACzY+a1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAScSURBVHja7Ni9SytLGMDh4XKq9Ok9EqtACkGCIlnwo47FljaiENRaTJ8iFnZCMKBFiKVF/oAVCYjGQgUdu2BSiMWmTtq9xQvD3tkk5hpzIvf+nkpnN+/OzrvzqRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgml8sFQRAEQS6X63uD1nrI1dEFA7RarWq1mkgk/sz7ykN/VAp+fVegQqFwdXXVbDYnWt3X11erJJlMzszMLC8vr6+vT/rp//FeGARBrVabdC+MlicSiVarFQSB53n/zxT89S1ROp1Or9fLZrPjp+rfajabBwcHSqnFxUVS+HW+71cqFRlOR5mW8vm89E4zmY3z9MvLS6VULBaTf4vFotY6l8vJI3zfz+fzZsxoNBrdbjcIgm6363me4zhyyXEcrbXW2gruuq7WutFomEHFumdITKlJqVQK31+tVrXWpkrC8zytteu6UxtI5a2kyazhNDqQ1mo1k7xwIr+8jnAcR5rPtJEElIp1u11p02KxKEF839da+74vvzINJyVW40ptzShtVWN4TNd1o68m95hvIlr/aabQcRz5GMMJs1Io93e7XVPiOI409/C+OCSFnueFW1lSGASBtKPkzzRTuG6lUkkKZeSwstU3r+FqjBJTGiTc1yVCOGHyHYSTOrUUmhfwfd8Mp1YKG41GNFsmr5+msPpPtVrNfPjmiZJCa7iTNBeLRSuspE3KpdOEqxEtCadwlJhyjxlLpX2kTUzvlzaJxvnTmwqxt7eXyWSSyeTx8fHGxkb0htnZWaXU2dlZuLBcLhcKhXg87rquTGyDbG5uRgvv7+8PDw+tHcXT01P431QqpZRqt9vWguvj40MptbCwIHNqp9OJx+P5fP7o6Mg87u7urm9lRonped7q6momk5FL8/PzSqmTk5PT09OVlRV52XQ6rZQ6Pz//Eb0wOpxavXDQePjp3sMcIFiid0ovtDp6MJSpvzWWRmfHcP1HjCmtYcZVGTDNyJnP58ccRX99e1Lr9XqlUtnd3ZXN/vcGL5fL4/z84uKib/n7+7u5IZvNyv7Edd14PN7r9aRHfjnmy8tLOp3e3t5+eHiIxWKPj49yRiGdb21tTSl1fX095a19dC1uVqdW95Lv2kzv1qohWv6Fk62+vfDT+NH1S9/VTbgaI8aU1YrneVIxmQLl71wuZ613prYvjNrf35fN/u/fv8Plb29vSqmdnR3rO5DvvV6vT6g+z8/P0efKONZoNMJD5e3trXSOpaUlmczGjCmTXCqVmpub6/V6Mv/d3Nwopba2tmKxWLvdntyLf70XmtWXdQg+iU3FKL3QHASGN9qmE4TnVFmFmoXukGqMHlOGIjMRhudI6+c/K4Wm6pPe2o+Swug2XL6bvoerkr++l4Zv7QfFNF9zOFuylxhzFP0Gcv7U94A7fGplHR1ZB2yjfIZ9T78GzT1a677brPBhmKwDrbMY0+LyuOiKd/gB26CYfdtB6jm1HT0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAkf09AHpYlY2UOr/4AAAAAElFTkSuQmCC"},66:function(e,t,a){e.exports=a.p+"static/media/loading.8d3aacb4.svg"},74:function(e,t,a){e.exports=a(109)},79:function(e,t,a){},80:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.f10e13b4.chunk.js.map